float map(vec3 p) {
    return length(p) - 0.5;
}

void mainImage( out vec4 fragColor, in vec2 fragCoord ) {
    vec2 uv = fragCoord / iResolution.xy;
    vec3 ro = vec3(0, 0, 1),
        rd = normalize(vec3((2.0 * uv - 1.0) * 
        vec2(iResolution.x / iResolution.y, 1), -1.0)),
        color = vec3(0);
    float tMin = map(ro),
        t = tMin;
    bool bHit = false;
            
    while (!bHit && t <= tMin) {
        ro += rd * t;
        t = map(ro);
        bHit = t < 1e-3; 
    }
}
